\NextFile{TransEnergySim.html}
\section{Transportation Energy Simulation Framework (transEnergySim)}

\subsection{[module is still under construction]}

In this MATSim contribution a framework to simulate a whole range  oftranportation related energy scenarios is implemented. The focus  is on electric and plug-in hybrid electric vehicles. This contributio  is being built and updated as part of the PhD ofRashid A. Waraich  (waraich at ivt.baug.ethz.ch). As this is an open source project, which  encourages contribution by others, there are also modules, which have  been contriubted by the following people: Dr. Matthias D. Galus, Gil  Georges ?, Marina ?, Zain?, Raffaela?, etc.?


The following modules should be available soon/ are planned:
\begin{itemize}
	\item Inductive charging along roads
	\item Charging at activity location
	\item Several charging schemes including smart charging ("smart grid")
	\item V2G
	\item General energy flow model
	\item buy/sell of electricity price over market
\end{itemize}

These features require several basic constructs, which willalso be documented soon here:
\begin{itemize}
	\item vehicle fleet definition model
	\item vehicle energy consumption model
	\item charging infrastructure definition model
	\item output modules
	\item more to come here...
\end{itemize}

If you want to contribute with a new module to the framework  (e.g. for charging, energy consumption, emissions, etc.), please contact  Rashid A. Waraich (waraich at ivt.baug.ethz.ch).

\subsection{Applications}

TODO: Describe ARTEMIS and THELMA project here with figures and references.



TODO: also add work of stella, zain, raffaela, marina, etc. here.

\subsection{Emissions}

Modules for green house gas and other emissions coming soon here.

\subsection{Hints and Pitfalls}

ParallelEventHandling

Many of the modules for keeping track of charging and energy  consumption are based on event handlers. In order to avoid  raceconditions and accessing the same data unsynchronized (e.g. vehicle  trying to charge before the energy consumption is updated), we advise to  use the EventHandlerGroup class (or inherit from it, if needed). Using  this class, you can clearly control, which thing happens first, e.g.  energy consumption updated first and trying to charge happening  afterwards (also important for road charging). For an example, see the  InductiveChargingController.

At the moment, the it does not seem to be a performance issue, to  group several modules together (forming effectivly one event handler).  But if there are concerns about this, a synchronized version could be  provided in future.

\subsection{Inductive Charging}

Charging along Roads

For Inductive charging along roads the InductiveStreetCharger Module  can be used, which is based on event handlers. An example controller,  which allows both stationary charging at activitiy locations and  charging at roads is calledInductiveChargingController. General  help regarding how to configure the controller, can be found in a test  of the controller and the documentation of the different modules, which  are used in that controller.

(TODO: add links to the code/test cases)



Stationary Inductive Charging

This is currently not distinguished separatly from stationary charging with a plug, although it might be in future.

\subsection{Stationary Charging}

For stationary charing, at the moment the following modules are available:

ChargingUponArrival: Vehicles with a state of charge (SOC) smaller  than the "usable battery size" start charging immediatly opon arrival at  a location. TODO: descibe, how to filter the location, where vehicle  can be charged.

\subsection{Vehicle Energy Consumption Models}

Each  vehicle in the vehicle has an Energy consumption model attached to it,  based on which vehicle energy consumption is logged for each street.  Furthermore for electric and plug-in hybrid electric vehicles (EV/PHEV),  this module also updates the state of charge (SOC) of the vehicles.

A couple of models are available for use, of which many have been  contributed by the respective authors of the models. If you want to  contribute a new model, please drop an email to  waraich@ivt.baug.ethz.ch.

Electric Vehicle



PHEV

Galus Model

TODO: also show shape of curve!



Conventional Vehicle

(no model available at the moment)

\subsection{Visualizations}

TODO: emissions map, charging acts, power load per link, etc.

